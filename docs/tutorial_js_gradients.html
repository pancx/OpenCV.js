<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OpenCV: Image Gradients</title>
<link href="opencv.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
//<![CDATA[
MathJax.Hub.Config(
{
  TeX: {
      Macros: {
          matTT: [ "\\[ \\left|\\begin{array}{ccc} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{array}\\right| \\]", 9],
          fork: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ \\end{array} \\right.", 4],
          forkthree: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ #5 & \\mbox{#6}\\\\ \\end{array} \\right.", 6],
          vecthree: ["\\begin{bmatrix} #1\\\\ #2\\\\ #3 \\end{bmatrix}", 3],
          vecthreethree: ["\\begin{bmatrix} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{bmatrix}", 9],
          hdotsfor: ["\\dots", 1],
          mathbbm: ["\\mathbb{#1}", 1],
          bordermatrix: ["\\matrix{#1}", 1]
      }
  }
}
);
//]]>
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<!--#include virtual="/google-search.html"-->
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="opencv-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenCV
   &#160;<span id="projectnumber">3.2.0-dev</span>
   </div>
   <div id="projectbrief">Open Source Computer Vision</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<script type="text/javascript">
//<![CDATA[
function getLabelName(innerHTML) {
    var str = innerHTML.toLowerCase();
    // Replace all '+' with 'p'
    str = str.split('+').join('p');
    // Replace all ' ' with '_'
    str = str.split(' ').join('_');
    // Replace all '#' with 'sharp'
    str = str.split('#').join('sharp');
    // Replace other special characters with 'ascii' + code
    for (var i = 0; i < str.length; i++) {
        var charCode = str.charCodeAt(i);
        if (!(charCode == 95 || (charCode > 96 && charCode < 123) || (charCode > 47 && charCode < 58)))
            str = str.substr(0, i) + 'ascii' + charCode + str.substr(i + 1);
    }
    return str;
}
function addToggle() {
    var $getDiv = $('div.newInnerHTML').last();
    var buttonName = $getDiv.html();
    var label = getLabelName(buttonName.trim());
    $getDiv.attr("title", label);
    $getDiv.hide();
    $getDiv = $getDiv.next();
    $getDiv.attr("class", "toggleable_div label_" + label);
    $getDiv.hide();
}
//]]>
</script>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="tutorial_js_root.html">OpenCV.js Tutorials</a></li><li class="navelem"><a class="el" href="tutorial_js_table_of_contents_imgproc.html">Image Processing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Image Gradients </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Goal </h2>
<ul>
<li>Find Image gradients, edges etc</li>
<li>We will learn following functions : <b><a class="el" href="d4/d86/group__imgproc__filter.html#gacea54f142e81b6758cb6f375ce782c8d" title="Calculates the first, second, third, or mixed image derivatives using an extended Sobel operator...">cv.Sobel()</a></b>, <b><a class="el" href="d4/d86/group__imgproc__filter.html#gaa13106761eedf14798f37aa2d60404c9" title="Calculates the first x- or y- image derivative using Scharr operator. ">cv.Scharr()</a></b>, <b><a class="el" href="d4/d86/group__imgproc__filter.html#gad78703e4c8fe703d479c1860d76429e6" title="Calculates the Laplacian of an image. ">cv.Laplacian()</a></b> etc</li>
</ul>
<h2>Theory </h2>
<p>OpenCV provides three types of gradient filters or High-pass filters, Sobel, Scharr and Laplacian. We will see each one of them.</p>
<h3>1. Sobel and Scharr Derivatives</h3>
<p>Sobel operators is a joint Gausssian smoothing plus differentiation operation, so it is more resistant to noise. You can specify the direction of derivatives to be taken, vertical or horizontal (by the arguments, yorder and xorder respectively). You can also specify the size of kernel by the argument ksize. If ksize = -1, a 3x3 Scharr filter is used which gives better results than 3x3 Sobel filter. Please see the docs for kernels used.</p>
<p>We use the functions: <b><a class="el" href="d4/d86/group__imgproc__filter.html#gacea54f142e81b6758cb6f375ce782c8d" title="Calculates the first, second, third, or mixed image derivatives using an extended Sobel operator...">cv.Sobel</a> (src, dst, ddepth, dx, dy, ksize = 3, scale = 1, delta = 0, borderType = <a class="el" href="d2/de8/group__core__array.html#gga209f2f4869e304c82d07739337eae7c5afe14c13a4ea8b8e3b3ef399013dbae01" title="same as BORDER_REFLECT_101 ">cv.BORDER_DEFAULT</a>)</b> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>input image. </td></tr>
    <tr><td class="paramname">dst</td><td>output image of the same size and the same number of channels as src. </td></tr>
    <tr><td class="paramname">ddepth</td><td>output image depth(see cv.combinations); in the case of 8-bit input images it will result in truncated derivatives. </td></tr>
    <tr><td class="paramname">dx</td><td>order of the derivative x. </td></tr>
    <tr><td class="paramname">dy</td><td>order of the derivative y. </td></tr>
    <tr><td class="paramname">ksize</td><td>size of the extended Sobel kernel; it must be 1, 3, 5, or 7. </td></tr>
    <tr><td class="paramname">scale</td><td>optional scale factor for the computed derivative values. </td></tr>
    <tr><td class="paramname">delta</td><td>optional delta value that is added to the results prior to storing them in dst. </td></tr>
    <tr><td class="paramname">borderType</td><td>pixel extrapolation method(see <a class="el" href="d2/de8/group__core__array.html#ga209f2f4869e304c82d07739337eae7c5">cv.BorderTypes</a>).</td></tr>
  </table>
  </dd>
</dl>
<p><b><a class="el" href="d4/d86/group__imgproc__filter.html#gaa13106761eedf14798f37aa2d60404c9" title="Calculates the first x- or y- image derivative using Scharr operator. ">cv.Scharr</a> (src, dst, ddepth, dx, dy, scale = 1, delta = 0, borderType = <a class="el" href="d2/de8/group__core__array.html#gga209f2f4869e304c82d07739337eae7c5afe14c13a4ea8b8e3b3ef399013dbae01" title="same as BORDER_REFLECT_101 ">cv.BORDER_DEFAULT</a>)</b> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>input image. </td></tr>
    <tr><td class="paramname">dst</td><td>output image of the same size and the same number of channels as src. </td></tr>
    <tr><td class="paramname">ddepth</td><td>output image depth(see cv.combinations). </td></tr>
    <tr><td class="paramname">dx</td><td>order of the derivative x. </td></tr>
    <tr><td class="paramname">dy</td><td>order of the derivative y. </td></tr>
    <tr><td class="paramname">scale</td><td>optional scale factor for the computed derivative values. </td></tr>
    <tr><td class="paramname">delta</td><td>optional delta value that is added to the results prior to storing them in dst. </td></tr>
    <tr><td class="paramname">borderType</td><td>pixel extrapolation method(see <a class="el" href="d2/de8/group__core__array.html#ga209f2f4869e304c82d07739337eae7c5">cv.BorderTypes</a>).</td></tr>
  </table>
  </dd>
</dl>
<h2>Try it </h2>
<p>Try this demo using the code above. Canvas elements named SobelCanvasInput, SobelCanvasOutputX and SobelCanvasOutputY have been prepared. Choose an image and click <code>Try it</code> to see the result. You can change the code in the textbox to investigate more.</p>
<p> 
<!DOCTYPE html>
<head>
<style>
canvas {
    border: 1px solid black;
}
.err {
    color: red;
}
</style>
</head>
<body>
<div id="SobelCodeArea">
<h2>Input your code</h2>
<button id="SobelTryIt" disabled="true" onclick="SobelExecuteCode()">Try it</button><br>
<textarea rows="13" cols="80" id="SobelTestCode" spellcheck="false">
let src = cv.imread("SobelCanvasInput");
let dstx = new cv.Mat();
let dsty = new cv.Mat();
cv.cvtColor(src, src, cv.COLOR_RGB2GRAY, 0);
// You can try more different parameters
cv.Sobel(src, dstx, cv.CV_8U, 1, 0, 3, 1, 0, cv.BORDER_DEFAULT);
cv.Sobel(src, dsty, cv.CV_8U, 0, 1, 3, 1, 0, cv.BORDER_DEFAULT);
// cv.Scharr(src, dstx, cv.CV_8U, 1, 0, 1, 0, cv.BORDER_DEFAULT);
// cv.Scharr(src, dsty, cv.CV_8U, 0, 1, 1, 0, cv.BORDER_DEFAULT);
cv.imshow("SobelCanvasOutputX", dstx);
cv.imshow("SobelCanvasOutputY", dsty); 
src.delete(); dstx.delete(); dsty.delete();
</textarea>
<p class="err" id="SobelErr"></p>
</div>
<div id="SobelShowcase">
    <div>
        <p>Original</p>
        <canvas id="SobelCanvasInput"></canvas>
        <input type="file" id="SobelInput" name="file" />
    </div>       
    <div>
        <p>Sobel X</p>
        <canvas id="SobelCanvasOutputX"></canvas>
    </div>
    <div>
        <p>Sobel Y</p>
        <canvas id="SobelCanvasOutputY"></canvas>
    </div>
</div>
<script src="utils.js"></script>
<script async src="opencv.js" id="opencvjs"></script>
<script>
function SobelExecuteCode() {
    let SobelText = document.getElementById("SobelTestCode").value;
    try {
        eval(SobelText);
        document.getElementById("SobelErr").innerHTML = " ";
    } catch(err) {
        document.getElementById("SobelErr").innerHTML = err;
    }
}

loadImageToCanvas("lena.jpg", "SobelCanvasInput");
let SobelInputElement = document.getElementById("SobelInput");
SobelInputElement.addEventListener("change", SobelHandleFiles, false);
function SobelHandleFiles(e) {
    let SobelUrl = URL.createObjectURL(e.target.files[0]);
    loadImageToCanvas(SobelUrl, "SobelCanvasInput");
}
</script>
</body>
</p>
<h3>2. Laplacian Derivatives</h3>
<p>It calculates the Laplacian of the image given by the relation, \(\Delta src = \frac{\partial ^2{src}}{\partial x^2} + \frac{\partial ^2{src}}{\partial y^2}\) where each derivative is found using Sobel derivatives. If ksize = 1, then following kernel is used for filtering:</p>
<p class="formulaDsp">
\[kernel = \begin{bmatrix} 0 &amp; 1 &amp; 0 \\ 1 &amp; -4 &amp; 1 \\ 0 &amp; 1 &amp; 0 \end{bmatrix}\]
</p>
<p>We use the function: <b><a class="el" href="d4/d86/group__imgproc__filter.html#gad78703e4c8fe703d479c1860d76429e6" title="Calculates the Laplacian of an image. ">cv.Laplacian</a> (src, dst, ddepth, ksize = 1, scale = 1, delta = 0, borderType = <a class="el" href="d2/de8/group__core__array.html#gga209f2f4869e304c82d07739337eae7c5afe14c13a4ea8b8e3b3ef399013dbae01" title="same as BORDER_REFLECT_101 ">cv.BORDER_DEFAULT</a>)</b> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>input image. </td></tr>
    <tr><td class="paramname">dst</td><td>output image of the same size and the same number of channels as src. </td></tr>
    <tr><td class="paramname">ddepth</td><td>output image depth. </td></tr>
    <tr><td class="paramname">ksize</td><td>aperture size used to compute the second-derivative filters. </td></tr>
    <tr><td class="paramname">scale</td><td>optional scale factor for the computed Laplacian values. </td></tr>
    <tr><td class="paramname">delta</td><td>optional delta value that is added to the results prior to storing them in dst. </td></tr>
    <tr><td class="paramname">borderType</td><td>pixel extrapolation method(see <a class="el" href="d2/de8/group__core__array.html#ga209f2f4869e304c82d07739337eae7c5">cv.BorderTypes</a>).</td></tr>
  </table>
  </dd>
</dl>
<h2>Try it </h2>
<p>Try this demo using the code above. Canvas elements named LaplacianCanvasInput and LaplacianCanvasOutput have been prepared. Choose an image and click <code>Try it</code> to see the result. You can change the code in the textbox to investigate more.</p>
<p> 
<!DOCTYPE html>
<head>
</head>
<body>
<div id="LaplacianCodeArea">
<h2>Input your code</h2>
<button id="LaplacianTryIt" disabled="true" onclick="LaplacianExecuteCode()">Try it</button><br>
<textarea rows="8" cols="80" id="LaplacianTestCode" spellcheck="false">
let src = cv.imread("LaplacianCanvasInput");
let dst = new cv.Mat();
cv.cvtColor(src, src, cv.COLOR_RGB2GRAY, 0);
// You can try more different parameters
cv.Laplacian(src, dst, cv.CV_8U, 1, 1, 0, cv.BORDER_DEFAULT);
cv.imshow("LaplacianCanvasOutput", dst);
src.delete(); dst.delete();
</textarea>
<p class="err" id="LaplacianErr"></p>
</div>
<div id="LaplacianShowcase">
    <div>
        <canvas id="LaplacianCanvasInput"></canvas>
        <canvas id="LaplacianCanvasOutput"></canvas>
    </div>
    <input type="file" id="LaplacianInput" name="file" />
</div>
<script>
function LaplacianExecuteCode() {
    let LaplacianText = document.getElementById("LaplacianTestCode").value;
    try {
        eval(LaplacianText);
        document.getElementById("LaplacianErr").innerHTML = " ";
    } catch(err) {
        document.getElementById("LaplacianErr").innerHTML = err;
    }
}

loadImageToCanvas("lena.jpg", "LaplacianCanvasInput");
let LaplacianInputElement = document.getElementById("LaplacianInput");
LaplacianInputElement.addEventListener("change", LaplacianHandleFiles, false);
function LaplacianHandleFiles(e) {
    let LaplacianUrl = URL.createObjectURL(e.target.files[0]);
    loadImageToCanvas(LaplacianUrl, "LaplacianCanvasInput");
}
</script>
</body>
</p>
<h2>One Important Matter! </h2>
<p>In our last example, output datatype is cv.CV_8U. But there is a slight problem with that. Black-to-White transition is taken as Positive slope (it has a positive value) while White-to-Black transition is taken as a Negative slope (It has negative value). So when you convert data to cv.CV_8U, all negative slopes are made zero. In simple words, you miss that edge.</p>
<p>If you want to detect both edges, better option is to keep the output datatype to some higher forms, like cv.CV_16S, cv.CV_64F etc, take its absolute value and then convert back to cv.CV_8U. Below code demonstrates this procedure for a horizontal Sobel filter and difference in results.</p>
<h2>Try it </h2>
<p>Try this demo using the code above. Canvas elements named absSobelCanvasInput, absSobelCanvasOutput8U and absSobelCanvasOutput64F have been prepared. Choose an image and click <code>Try it</code> to see the result. You can change the code in the textbox to investigate more.</p>
<p>We use the function: <b><a class="el" href="d2/de8/group__core__array.html#ga3460e9c9f37b563ab9dd550c4d8c4e7d" title="Scales, calculates absolute values, and converts the result to 8-bit. ">cv.convertScaleAbs</a> (src, dst, alpha = 1, beta = 0)</b> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>input array. </td></tr>
    <tr><td class="paramname">dst</td><td>output array. </td></tr>
    <tr><td class="paramname">alpha</td><td>optional scale factor. </td></tr>
    <tr><td class="paramname">beta</td><td>optional delta added to the scaled values.</td></tr>
  </table>
  </dd>
</dl>
<p> 
<!DOCTYPE html>
<head>
</head>
<body>
<div id="absSobelCodeArea">
<h2>Input your code</h2>
<button id="absSobelTryIt" disabled="true" onclick="absSobelExecuteCode()">Try it</button><br>
<textarea rows="11" cols="80" id="absSobelTestCode" spellcheck="false">
let src = cv.imread("absSobelCanvasInput");
let dstx = new cv.Mat();
let absDstx = new cv.Mat();
cv.cvtColor(src, src, cv.COLOR_RGB2GRAY, 0);
// You can try more different parameters
cv.Sobel(src, dstx, cv.CV_8U, 1, 0, 3, 1, 0, cv.BORDER_DEFAULT);
cv.Sobel(src, absDstx, cv.CV_64F, 1, 0, 3, 1, 0, cv.BORDER_DEFAULT);
cv.convertScaleAbs(absDstx, absDstx, 1, 0);
cv.imshow("absSobelCanvasOutput8U", dstx);
cv.imshow("absSobelCanvasOutput64F", absDstx); 
src.delete(); dstx.delete(); absDstx.delete();
</textarea>
<p class="err" id="absSobelErr"></p>
</div>
<div id="absSobelShowcase">
    <div>
        <p>Original</p>
        <canvas id="absSobelCanvasInput"></canvas>
        <input type="file" id="absSobelInput" name="file" />
    </div>       
    <div>
        <p>Sobel X(cv.CV_8U)</p>
        <canvas id="absSobelCanvasOutput8U"></canvas>
    </div>
    <div>
        <p>Sobel X(cv.CV_64F)</p>
        <canvas id="absSobelCanvasOutput64F"></canvas>
    </div>
</div>
<script>
function absSobelExecuteCode() {
    let absSobelText = document.getElementById("absSobelTestCode").value;
    try {
        eval(absSobelText);
        document.getElementById("absSobelErr").innerHTML = " ";
    } catch(err) {
        document.getElementById("absSobelErr").innerHTML = err;
    }
}

loadImageToCanvas("LinuxLogo.jpg", "absSobelCanvasInput");
let absSobelInputElement = document.getElementById("absSobelInput");
absSobelInputElement.addEventListener("change", absSobelHandleFiles, false);
function absSobelHandleFiles(e) {
    let absSobelUrl = URL.createObjectURL(e.target.files[0]);
    loadImageToCanvas(absSobelUrl, "absSobelCanvasInput");
}

function onReady() {
    document.getElementById("SobelTryIt").disabled = false;
    document.getElementById("LaplacianTryIt").disabled = false;
    document.getElementById("absSobelTryIt").disabled = false;
}
if (typeof cv !== 'undefined') {
    onReady();
} else {
    document.getElementById("opencvjs").onload = onReady;
}
</script>
</body>
 </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 11 2017 15:05:25 for OpenCV by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
<script type="text/javascript">
//<![CDATA[
function addButton(label, buttonName) {
    var b = document.createElement("BUTTON");
    b.innerHTML = buttonName;
    b.setAttribute('class', 'toggleable_button label_' + label);
    b.onclick = function() {
        $('.toggleable_button').css({
            border: '2px outset',
            'border-radius': '4px'
        });
        $('.toggleable_button.label_' + label).css({
            border: '2px inset',
            'border-radius': '4px'
        });
        $('.toggleable_div').css('display', 'none');
        $('.toggleable_div.label_' + label).css('display', 'block');
    };
    b.style.border = '2px outset';
    b.style.borderRadius = '4px';
    b.style.margin = '2px';
    return b;
}
function buttonsToAdd($elements, $heading, $type) {
    if ($elements.length === 0) {
        $elements = $("" + $type + ":contains(" + $heading.html() + ")").parent().prev("div.newInnerHTML");
    }
    var arr = jQuery.makeArray($elements);
    var seen = {};
    arr.forEach(function(e) {
        var txt = e.innerHTML;
        if (!seen[txt]) {
            $button = addButton(e.title, txt);
            if (Object.keys(seen).length == 0) {
                var linebreak1 = document.createElement("br");
                var linebreak2 = document.createElement("br");
                ($heading).append(linebreak1);
                ($heading).append(linebreak2);
            }
            ($heading).append($button);
            seen[txt] = true;
        }
    });
    return;
}
$("h2").each(function() {
    $heading = $(this);
    $smallerHeadings = $(this).nextUntil("h2").filter("h3").add($(this).nextUntil("h2").find("h3"));
    if ($smallerHeadings.length) {
        $smallerHeadings.each(function() {
            var $elements = $(this).nextUntil("h3").filter("div.newInnerHTML");
            buttonsToAdd($elements, $(this), "h3");
        });
    } else {
        var $elements = $(this).nextUntil("h2").filter("div.newInnerHTML");
        buttonsToAdd($elements, $heading, "h2");
    }
});
$(".toggleable_button").first().click();
var $clickDefault = $('.toggleable_button.label_python').first();
if ($clickDefault.length) {
    $clickDefault.click();
}
$clickDefault = $('.toggleable_button.label_cpp').first();
if ($clickDefault.length) {
    $clickDefault.click();
}
//]]>
</script>
</body>
</html>
